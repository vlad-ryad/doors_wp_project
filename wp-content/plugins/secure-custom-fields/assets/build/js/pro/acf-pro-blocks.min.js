(()=>{var e={2151:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},3476:()=>{jQuery,acf.jsxNameReplacements={"accent-height":"accentHeight",accentheight:"accentHeight","accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey","alignment-baseline":"alignmentBaseline",alignmentbaseline:"alignmentBaseline",allowedblocks:"allowedBlocks",allowfullscreen:"allowFullScreen",allowreorder:"allowReorder","arabic-form":"arabicForm",arabicform:"arabicForm",attributename:"attributeName",attributetype:"attributeType",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autoreverse:"autoReverse",autosave:"autoSave",basefrequency:"baseFrequency","baseline-shift":"baselineShift",baselineshift:"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode","cap-height":"capHeight",capheight:"capHeight",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className","clip-path":"clipPath","clip-rule":"clipRule",clippath:"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","color-interpolation":"colorInterpolation","color-interpolation-filters":"colorInterpolationFilters","color-profile":"colorProfile","color-rendering":"colorRendering",colorinterpolation:"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters",colorprofile:"colorProfile",colorrendering:"colorRendering",colspan:"colSpan",contenteditable:"contentEditable",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",diffuseconstant:"diffuseConstant",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback","dominant-baseline":"dominantBaseline",dominantbaseline:"dominantBaseline",edgemode:"edgeMode","enable-background":"enableBackground",enablebackground:"enableBackground",enctype:"encType",enterkeyhint:"enterKeyHint",externalresourcesrequired:"externalResourcesRequired","fill-opacity":"fillOpacity","fill-rule":"fillRule",fillopacity:"fillOpacity",fillrule:"fillRule",filterres:"filterRes",filterunits:"filterUnits","flood-color":"floodColor","flood-opacity":"floodOpacity",floodcolor:"floodColor",floodopacity:"floodOpacity","font-family":"fontFamily","font-size":"fontSize","font-size-adjust":"fontSizeAdjust","font-stretch":"fontStretch","font-style":"fontStyle","font-variant":"fontVariant","font-weight":"fontWeight",fontfamily:"fontFamily",fontsize:"fontSize",fontsizeadjust:"fontSizeAdjust",fontstretch:"fontStretch",fontstyle:"fontStyle",fontvariant:"fontVariant",fontweight:"fontWeight",for:"htmlFor",foreignobject:"foreignObject",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder","glyph-name":"glyphName","glyph-orientation-horizontal":"glyphOrientationHorizontal","glyph-orientation-vertical":"glyphOrientationVertical",glyphname:"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits","horiz-adv-x":"horizAdvX","horiz-origin-x":"horizOriginX",horizadvx:"horizAdvX",horizoriginx:"horizOriginX",hreflang:"hrefLang",htmlfor:"htmlFor","http-equiv":"httpEquiv",httpequiv:"httpEquiv","image-rendering":"imageRendering",imagerendering:"imageRendering",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keyparams:"keyParams",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",keytype:"keyType",lengthadjust:"lengthAdjust","letter-spacing":"letterSpacing",letterspacing:"letterSpacing","lighting-color":"lightingColor",lightingcolor:"lightingColor",limitingconeangle:"limitingConeAngle",marginheight:"marginHeight",marginwidth:"marginWidth","marker-end":"markerEnd","marker-mid":"markerMid","marker-start":"markerStart",markerend:"markerEnd",markerheight:"markerHeight",markermid:"markerMid",markerstart:"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",numoctaves:"numOctaves","overline-position":"overlinePosition","overline-thickness":"overlineThickness",overlineposition:"overlinePosition",overlinethickness:"overlineThickness","paint-order":"paintOrder",paintorder:"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",playsinline:"playsInline","pointer-events":"pointerEvents",pointerevents:"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",refx:"refX",refy:"refY","rendering-intent":"renderingIntent",renderingintent:"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",rowspan:"rowSpan","shape-rendering":"shapeRendering",shaperendering:"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spellcheck:"spellCheck",spreadmethod:"spreadMethod",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles","stop-color":"stopColor","stop-opacity":"stopOpacity",stopcolor:"stopColor",stopopacity:"stopOpacity","strikethrough-position":"strikethroughPosition","strikethrough-thickness":"strikethroughThickness",strikethroughposition:"strikethroughPosition",strikethroughthickness:"strikethroughThickness","stroke-dasharray":"strokeDasharray","stroke-dashoffset":"strokeDashoffset","stroke-linecap":"strokeLinecap","stroke-linejoin":"strokeLinejoin","stroke-miterlimit":"strokeMiterlimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth",strokedasharray:"strokeDasharray",strokedashoffset:"strokeDashoffset",strokelinecap:"strokeLinecap",strokelinejoin:"strokeLinejoin",strokemiterlimit:"strokeMiterlimit",strokeopacity:"strokeOpacity",strokewidth:"strokeWidth",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tabindex:"tabIndex",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",templatelock:"templateLock","text-anchor":"textAnchor","text-decoration":"textDecoration","text-rendering":"textRendering",textanchor:"textAnchor",textdecoration:"textDecoration",textlength:"textLength",textrendering:"textRendering","underline-position":"underlinePosition","underline-thickness":"underlineThickness",underlineposition:"underlinePosition",underlinethickness:"underlineThickness","unicode-bidi":"unicodeBidi","unicode-range":"unicodeRange",unicodebidi:"unicodeBidi",unicoderange:"unicodeRange","units-per-em":"unitsPerEm",unitsperem:"unitsPerEm",usemap:"useMap","v-alphabetic":"vAlphabetic","v-hanging":"vHanging","v-ideographic":"vIdeographic","v-mathematical":"vMathematical",valphabetic:"vAlphabetic","vector-effect":"vectorEffect",vectoreffect:"vectorEffect","vert-adv-y":"vertAdvY","vert-origin-x":"vertOriginX","vert-origin-y":"vertOriginY",vertadvy:"vertAdvY",vertoriginx:"vertOriginX",vertoriginy:"vertOriginY",vhanging:"vHanging",videographic:"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","word-spacing":"wordSpacing",wordspacing:"wordSpacing","writing-mode":"writingMode",writingmode:"writingMode","x-height":"xHeight",xchannelselector:"xChannelSelector",xheight:"xHeight","xlink:actuate":"xlinkActuate","xlink:arcrole":"xlinkArcrole","xlink:href":"xlinkHref","xlink:role":"xlinkRole","xlink:show":"xlinkShow","xlink:title":"xlinkTitle","xlink:type":"xlinkType",xlinkactuate:"xlinkActuate",xlinkarcrole:"xlinkArcrole",xlinkhref:"xlinkHref",xlinkrole:"xlinkRole",xlinkshow:"xlinkShow",xlinktitle:"xlinkTitle",xlinktype:"xlinkType","xml:base":"xmlBase","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlbase:"xmlBase",xmllang:"xmlLang","xmlns:xlink":"xmlnsXlink",xmlnsxlink:"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"}},3503:(e,t,r)=>{var n,o,i,a,c;n=r(3939),o=r(2151).utf8,i=r(7206),a=r(2151).bin,(c=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):o.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=n.bytesToWords(e),s=8*e.length,l=1732584193,d=-271733879,u=-1732584194,p=271733878,f=0;f<r.length;f++)r[f]=16711935&(r[f]<<8|r[f]>>>24)|4278255360&(r[f]<<24|r[f]>>>8);r[s>>>5]|=128<<s%32,r[14+(s+64>>>9<<4)]=s;var h=c._ff,m=c._gg,g=c._hh,b=c._ii;for(f=0;f<r.length;f+=16){var k=l,v=d,y=u,w=p;l=h(l,d,u,p,r[f+0],7,-680876936),p=h(p,l,d,u,r[f+1],12,-389564586),u=h(u,p,l,d,r[f+2],17,606105819),d=h(d,u,p,l,r[f+3],22,-1044525330),l=h(l,d,u,p,r[f+4],7,-176418897),p=h(p,l,d,u,r[f+5],12,1200080426),u=h(u,p,l,d,r[f+6],17,-1473231341),d=h(d,u,p,l,r[f+7],22,-45705983),l=h(l,d,u,p,r[f+8],7,1770035416),p=h(p,l,d,u,r[f+9],12,-1958414417),u=h(u,p,l,d,r[f+10],17,-42063),d=h(d,u,p,l,r[f+11],22,-1990404162),l=h(l,d,u,p,r[f+12],7,1804603682),p=h(p,l,d,u,r[f+13],12,-40341101),u=h(u,p,l,d,r[f+14],17,-1502002290),l=m(l,d=h(d,u,p,l,r[f+15],22,1236535329),u,p,r[f+1],5,-165796510),p=m(p,l,d,u,r[f+6],9,-1069501632),u=m(u,p,l,d,r[f+11],14,643717713),d=m(d,u,p,l,r[f+0],20,-373897302),l=m(l,d,u,p,r[f+5],5,-701558691),p=m(p,l,d,u,r[f+10],9,38016083),u=m(u,p,l,d,r[f+15],14,-660478335),d=m(d,u,p,l,r[f+4],20,-405537848),l=m(l,d,u,p,r[f+9],5,568446438),p=m(p,l,d,u,r[f+14],9,-1019803690),u=m(u,p,l,d,r[f+3],14,-187363961),d=m(d,u,p,l,r[f+8],20,1163531501),l=m(l,d,u,p,r[f+13],5,-1444681467),p=m(p,l,d,u,r[f+2],9,-51403784),u=m(u,p,l,d,r[f+7],14,1735328473),l=g(l,d=m(d,u,p,l,r[f+12],20,-1926607734),u,p,r[f+5],4,-378558),p=g(p,l,d,u,r[f+8],11,-2022574463),u=g(u,p,l,d,r[f+11],16,1839030562),d=g(d,u,p,l,r[f+14],23,-35309556),l=g(l,d,u,p,r[f+1],4,-1530992060),p=g(p,l,d,u,r[f+4],11,1272893353),u=g(u,p,l,d,r[f+7],16,-155497632),d=g(d,u,p,l,r[f+10],23,-1094730640),l=g(l,d,u,p,r[f+13],4,681279174),p=g(p,l,d,u,r[f+0],11,-358537222),u=g(u,p,l,d,r[f+3],16,-722521979),d=g(d,u,p,l,r[f+6],23,76029189),l=g(l,d,u,p,r[f+9],4,-640364487),p=g(p,l,d,u,r[f+12],11,-421815835),u=g(u,p,l,d,r[f+15],16,530742520),l=b(l,d=g(d,u,p,l,r[f+2],23,-995338651),u,p,r[f+0],6,-198630844),p=b(p,l,d,u,r[f+7],10,1126891415),u=b(u,p,l,d,r[f+14],15,-1416354905),d=b(d,u,p,l,r[f+5],21,-57434055),l=b(l,d,u,p,r[f+12],6,1700485571),p=b(p,l,d,u,r[f+3],10,-1894986606),u=b(u,p,l,d,r[f+10],15,-1051523),d=b(d,u,p,l,r[f+1],21,-2054922799),l=b(l,d,u,p,r[f+8],6,1873313359),p=b(p,l,d,u,r[f+15],10,-30611744),u=b(u,p,l,d,r[f+6],15,-1560198380),d=b(d,u,p,l,r[f+13],21,1309151649),l=b(l,d,u,p,r[f+4],6,-145523070),p=b(p,l,d,u,r[f+11],10,-1120210379),u=b(u,p,l,d,r[f+2],15,718787259),d=b(d,u,p,l,r[f+9],21,-343485551),l=l+k>>>0,d=d+v>>>0,u=u+y>>>0,p=p+w>>>0}return n.endian([l,d,u,p])})._ff=function(e,t,r,n,o,i,a){var c=e+(t&r|~t&n)+(o>>>0)+a;return(c<<i|c>>>32-i)+t},c._gg=function(e,t,r,n,o,i,a){var c=e+(t&n|r&~n)+(o>>>0)+a;return(c<<i|c>>>32-i)+t},c._hh=function(e,t,r,n,o,i,a){var c=e+(t^r^n)+(o>>>0)+a;return(c<<i|c>>>32-i)+t},c._ii=function(e,t,r,n,o,i,a){var c=e+(r^(t|~n))+(o>>>0)+a;return(c<<i|c>>>32-i)+t},c._blocksize=16,c._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(c(e,t));return t&&t.asBytes?r:t&&t.asString?a.bytesToString(r):n.bytesToHex(r)}},3692:(e,t,r)=>{function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(null,arguments)}const o=r(3503);((e,t)=>{const{BlockControls:r,InspectorControls:i,InnerBlocks:a,useBlockProps:c,AlignmentToolbar:s,BlockVerticalAlignmentToolbar:l}=wp.blockEditor,{ToolbarGroup:d,ToolbarButton:u,Placeholder:p,Spinner:f}=wp.components,{Fragment:h}=wp.element,{Component:m}=React,{useSelect:g}=wp.data,{createHigherOrderComponent:b}=wp.compose,k=wp.blockEditor.__experimentalBlockAlignmentMatrixToolbar||wp.blockEditor.BlockAlignmentMatrixToolbar,v=wp.blockEditor.__experimentalBlockAlignmentMatrixControl||wp.blockEditor.BlockAlignmentMatrixControl,y=wp.blockEditor.__experimentalBlockFullHeightAligmentControl||wp.blockEditor.__experimentalBlockFullHeightAlignmentControl||wp.blockEditor.BlockFullHeightAlignmentControl,w=wp.blockEditor.__experimentalUseInnerBlocksProps||wp.blockEditor.useInnerBlocksProps,E={};function x(e){return E[e]||!1}function R(e){return x(e).acf_block_version||1}function _(e){return x(e).validate}function A(e){const t=wp.data.select("core/block-editor").getBlockParents(e);return wp.data.select("core/block-editor").getBlocksByClientId(t).filter(e=>"core/query"===e.name).length}function C(){return document.querySelectorAll('iframe[name="editor-canvas"]').length>0}function B(e){const n=e.post_types||[];if(n.length){n.push("wp_block");const e=acf.get("postType");if(!n.includes(e))return!1}if("string"==typeof e.icon&&"<svg"===e.icon.substr(0,4)){const t=e.icon;e.icon=React.createElement($,null,t)}e.icon||delete e.icon;wp.blocks.getCategories().filter(({slug:t})=>t===e.category).pop()||(e.category="common"),e=acf.parseArgs(e,{title:"",name:"",category:"",api_version:2,acf_block_version:1});for(const t in e.attributes)"default"in e.attributes[t]&&0===e.attributes[t].default.length&&delete e.attributes[t].default;e.supports.anchor&&(e.attributes.anchor={type:"string"});let o=L,i=N;var a;(e.supports.alignText||e.supports.align_text)&&(e.attributes=Y(e.attributes,"align_text","string"),o=function(e,t){const n=W;return t.alignText=n(t.alignText),class extends m{render(){const{attributes:t,setAttributes:o}=this.props,{alignText:i}=t;function a(e){o({alignText:n(e)})}return React.createElement(h,null,React.createElement(r,{group:"block"},React.createElement(s,{value:n(i),onChange:a})),React.createElement(e,this.props))}}}(o,e)),(e.supports.alignContent||e.supports.align_content)&&(e.attributes=Y(e.attributes,"align_content","string"),o=function(e,n){let o,i,a=n.supports.align_content||n.supports.alignContent;if("matrix"===a)o=v||k,i=X;else o=l,i=J;if(o===t)return console.warn(`The "${a}" alignment component was not found.`),e;return n.alignContent=i(n.alignContent),class extends m{render(){const{attributes:t,setAttributes:n}=this.props,{alignContent:a}=t;function c(e){n({alignContent:i(e)})}return React.createElement(h,null,React.createElement(r,{group:"block"},React.createElement(o,{label:acf.__("Change content alignment"),value:i(a),onChange:c})),React.createElement(e,this.props))}}}(o,e)),(e.supports.fullHeight||e.supports.full_height)&&(e.attributes=Y(e.attributes,"full_height","boolean"),a=o,e.blockType,o=y?class extends m{render(){const{attributes:e,setAttributes:t}=this.props,{fullHeight:n}=e;function o(e){t({fullHeight:e})}return React.createElement(h,null,React.createElement(r,{group:"block"},React.createElement(y,{isActive:n,onToggle:o})),React.createElement(a,this.props))}}:a),e.edit=e=>(wp.element.useEffect(()=>()=>{wp.data.dispatch("core/editor")&&wp.data.dispatch("core/editor").unlockPostSaving("acf/block/"+e.clientId)},[]),React.createElement(o,e)),e.save=()=>React.createElement(i,null),E[e.name]=e;const c=wp.blocks.registerBlockType(e.name,e);return c.attributes.anchor&&(c.attributes.anchor={type:"string"}),c}acf.blockInstances={};const S={},I={};function T(t){const{attributes:r={},context:n={},query:i={},clientId:a=null,delay:c=0}=t,s=o(JSON.stringify({...r,...n,...i})),l=S[s]||{query:{},timeout:!1,promise:e.Deferred(),started:!1};return l.query={...l.query,...i},l.started||(clearTimeout(l.timeout),l.timeout=setTimeout(()=>{l.started=!0,I[s]?(S[s]=null,l.promise.resolve.apply(I[s][0],I[s][1])):e.ajax({url:acf.get("ajaxurl"),dataType:"json",type:"post",cache:!1,data:acf.prepareForAjax({action:"acf/ajax/fetch-block",block:JSON.stringify(r),clientId:a,context:JSON.stringify(n),query:l.query})}).always(()=>{S[s]=null}).done(function(){I[s]=[this,arguments],l.promise.resolve.apply(this,arguments)}).fail(function(){l.promise.reject.apply(this,arguments)})},c),S[s]=l),l.promise}function F(e,t){return JSON.stringify(e)===JSON.stringify(t)}function O(e,t,r=0){const n=function(e,t){switch(e){case"innerblocks":return t<2?a:"ACFInnerBlocks";case"script":return V;case"#comment":return null;default:e=P(e)}return e}(e.nodeName.toLowerCase(),t);if(!n)return null;const o={};if(1===r&&"ACFInnerBlocks"!==n&&(o.ref=React.createRef()),acf.arrayArgs(e.attributes).map(H).forEach(({name:e,value:t})=>{o[e]=t}),"ACFInnerBlocks"===n)return React.createElement(j,o);const i=[n,o];return acf.arrayArgs(e.childNodes).forEach(e=>{if(e instanceof Text){const t=e.textContent;t&&i.push(t)}else i.push(O(e,t,r+1))}),React.createElement.apply(this,i)}function P(e){const t=acf.isget(acf,"jsxNameReplacements",e);return t||e}function j(e){const{className:t="acf-innerblocks-container"}=e,r=w({className:t},e);return React.createElement("div",r,r.children)}function H(e){let t=e.name,r=e.value,n=acf.applyFilters("acf_blocks_parse_node_attr",!1,e);if(n)return n;switch(t){case"class":t="className";break;case"style":const e={};r.split(";").forEach(t=>{const r=t.indexOf(":");if(r>0){let n=t.substr(0,r).trim();const o=t.substr(r+1).trim();"-"!==n.charAt(0)&&(n=acf.strCamelCase(n)),e[n]=o}}),r=e;break;default:if(0===t.indexOf("data-"))break;t=P(t);const n=r.charAt(0);"["!==n&&"{"!==n||(r=JSON.parse(r)),"true"!==r&&"false"!==r||(r="true"===r)}return{name:t,value:r}}acf.parseJSX=(t,r)=>(t=(t="<div>"+t+"</div>").replace(/<InnerBlocks([^>]+)?\/>/,"<InnerBlocks$1></InnerBlocks>"),O(e(t)[0],r,0).props.children);const M=b(e=>class extends m{constructor(e){super(e);const{name:r,attributes:n}=this.props,o=x(r);if(!o)return;Object.keys(n).forEach(e=>{""===n[e]&&delete n[e]});const i={full_height:"fullHeight",align_content:"alignContent",align_text:"alignText"};Object.keys(i).forEach(e=>{n[e]!==t?n[i[e]]=n[e]:n[i[e]]===t&&o[e]!==t&&(n[i[e]]=o[e]),delete o[e],delete n[e]});for(let e in o.attributes)n[e]===t&&o[e]!==t&&(n[e]=o[e])}render(){return React.createElement(e,this.props)}},"withDefaultAttributes");function N(){return React.createElement(a.Content,null)}wp.hooks.addFilter("editor.BlockListBlock","acf/with-default-attributes",M);class L extends m{constructor(e){super(e),this.setup()}setup(){const{name:e,attributes:t,clientId:r}=this.props,n=x(e);function o(e){e.includes(t.mode)||(t.mode=e[0])}if(A(r)||C())o(["preview"]);else switch(n.mode){case"edit":o(["edit","preview"]);break;case"preview":o(["preview","edit"]);break;default:o(["auto"])}}render(){const{name:e,attributes:t,setAttributes:n,clientId:o}=this.props,a=x(e),c=A(o)||C();let{mode:s}=t;c&&(s="preview");let l=a.supports.mode;("auto"===s||c)&&(l=!1);const p="preview"===s?acf.__("Switch to Edit"):acf.__("Switch to Preview"),f="preview"===s?"edit":"welcome-view-site";return React.createElement(h,null,React.createElement(r,null,l&&React.createElement(d,null,React.createElement(u,{className:"components-icon-button components-toolbar__control",label:p,icon:f,onClick:function(){n({mode:"preview"===s?"edit":"preview"})}}))),React.createElement(i,null,"preview"===s&&React.createElement("div",{className:"acf-block-component acf-block-panel"},React.createElement(q,this.props))),React.createElement(D,this.props))}}function D(e){const{attributes:t,isSelected:r,name:o,clientId:i}=e,{mode:a}=t,s=g(e=>{const t=e("core/block-editor").getBlockRootClientId(i);return e("core/block-editor").getBlockIndex(i,t)});let l=!0,d="acf-block-component acf-block-body";return("auto"===a&&!r||"preview"===a)&&(d+=" acf-block-preview",l=!1),i in acf.blockInstances||(acf.blockInstances[i]={validation_errors:!1,mode:a}),acf.blockInstances[i].mode=a,r||(_(o)&&acf.blockInstances[i].validation_errors&&(d+=" acf-block-has-validation-error"),acf.blockInstances[i].has_been_deselected=!0),R(o)>1?React.createElement("div",c({className:d}),l?React.createElement(q,n({},e,{index:s})):React.createElement(U,n({},e,{index:s}))):React.createElement("div",c(),React.createElement("div",{className:"acf-block-component acf-block-body"},l?React.createElement(q,n({},e,{index:s})):React.createElement(U,n({},e,{index:s}))))}class $ extends m{render(){return React.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.children}})}}class V extends m{render(){return React.createElement("div",{ref:e=>this.el=e})}setHTML(t){e(this.el).html(`<script>${t}<\/script>`)}componentDidUpdate(){this.setHTML(this.props.children)}componentDidMount(){this.setHTML(this.props.children)}}class z extends m{constructor(e){super(e),this.setRef=this.setRef.bind(this),this.id="",this.el=!1,this.subscribed=!0,this.renderMethod="jQuery",this.passedValidation=!1,this.setup(e),this.loadState()}setup(e){const t=this.constructor.name,r=e.clientId;r in acf.blockInstances||(acf.blockInstances[r]={validation_errors:!1,mode:e.mode}),t in acf.blockInstances[r]||(acf.blockInstances[r][t]={})}fetch(){}maybePreload(e,t,r){if(acf.debug("Preload check",e,t,r),!A(this.props.clientId)){const n=acf.get("preloadedBlocks");if(n&&n[e])return r&&!n[e].form||!r&&n[e].form?(acf.debug("Preload failed: state not preloaded."),!1):(n[e].html=n[e].html.replaceAll(e,t),n[e].validation&&n[e].validation.errors&&(n[e].validation.errors=n[e].validation.errors.map(r=>(r.input=r.input.replaceAll(e,t),r))),acf.debug("Preload successful",n[e]),n[e])}return acf.debug("Preload failed: not preloaded."),!1}loadState(){const e=acf.blockInstances[this.props.clientId]||{};this.state=e[this.constructor.name]||{}}setState(e){acf.blockInstances[this.props.clientId][this.constructor.name]={...this.state,...e},(this.subscribed||acf.get("StrictMode"))&&super.setState(e),acf.debug("SetState",Object.assign({},this),this.props.clientId,this.constructor.name,Object.assign({},acf.blockInstances[this.props.clientId][this.constructor.name]))}setHtml(t){if((t=t?t.trim():"")===this.state.html)return;const r={html:t};if("jsx"===this.renderMethod){if(r.jsx=acf.parseJSX(t,R(this.props.name)),r.jsx||(console.warn("Your ACF block template contains no valid HTML elements. Appending a empty div to prevent React JS errors."),r.html+="<div></div>",r.jsx=acf.parseJSX(r.html,R(this.props.name))),Array.isArray(r.jsx)){let e=r.jsx.find(e=>React.isValidElement(e));r.ref=e.ref}else r.ref=r.jsx.ref;r.$el=e(this.el)}else r.$el=e(t);this.setState(r)}setRef(e){this.el=e}render(){return this.state.jsx?R(this.props.name)>1?(this.setRef(this.state.jsx),this.state.jsx):React.createElement("div",{ref:this.setRef},this.state.jsx):React.createElement("div",{ref:this.setRef},React.createElement(p,null,React.createElement(f,null)))}shouldComponentUpdate({index:e},{html:t}){return e!==this.props.index&&this.componentWillMove(),t!==this.state.html}display(t){if("jQuery"===this.renderMethod){const t=this.state.$el,r=t.parent(),n=e(this.el);n.html(t),r.length&&r[0]!==n[0]&&r.html(t.clone())}switch(this.getValidationErrors()&&this.isNotNewlyAdded()?this.lockBlockForSaving():this.unlockBlockForSaving(),t){case"append":this.componentDidAppend();break;case"remount":this.componentDidRemount()}}validate(){}componentDidMount(){this.state.html===t?this.fetch():this.display("remount")}componentDidUpdate(e,t){this.display("append")}componentDidAppend(){acf.doAction("append",this.state.$el)}componentWillUnmount(){acf.get("StrictMode")&&!this.subscribed||acf.doAction("unmount",this.state.$el),this.subscribed=!1}componentDidRemount(){this.subscribed=!0,setTimeout(()=>{acf.doAction("remount",this.state.$el)})}componentWillMove(){acf.doAction("unmount",this.state.$el),setTimeout(()=>{acf.doAction("remount",this.state.$el)})}isNotNewlyAdded(){return acf.blockInstances[this.props.clientId].has_been_deselected||!1}hasShownValidation(){return acf.blockInstances[this.props.clientId].shown_validation||!1}setShownValidation(){acf.blockInstances[this.props.clientId].shown_validation=!0}setValidationErrors(e){acf.blockInstances[this.props.clientId].validation_errors=e}getValidationErrors(){return acf.blockInstances[this.props.clientId].validation_errors}getMode(){return acf.blockInstances[this.props.clientId].mode}lockBlockForSaving(){wp.data.dispatch("core/editor")&&wp.data.dispatch("core/editor").lockPostSaving("acf/block/"+this.props.clientId)}unlockBlockForSaving(){wp.data.dispatch("core/editor")&&wp.data.dispatch("core/editor").unlockPostSaving("acf/block/"+this.props.clientId)}displayValidation(e){if(!_(this.props.name))return void acf.debug("Block does not support validation");if(!e||e.hasClass("acf-empty-block-fields"))return void acf.debug("There is no edit form available to validate.");const t=this.getValidationErrors();acf.debug("Starting handle validation",Object.assign({},this),Object.assign({},e),t),this.setShownValidation();let r=acf.getBlockFormValidator(e);r.clearErrors(),acf.doAction("blocks/validation/pre_apply",t),t?(r.addErrors(t),r.showErrors("after"),this.lockBlockForSaving()):(r.has("notice")&&(r.get("notice").update({type:"success",text:acf.__("Validation successful"),timeout:1e3}),r.set("notice",null)),this.unlockBlockForSaving()),acf.doAction("blocks/validation/post_apply",t)}}class q extends z{setup(e){this.id=`BlockForm-${e.clientId}`,super.setup(e)}fetch(e=!1,t=!1){const{context:r,clientId:n,name:o}=this.props;let{attributes:i}=this.props,a={form:!0};e&&(a={validate:!0},i.data=t);const c=K(i,r);acf.debug("BlockForm fetch",i,a);const s=this.maybePreload(c,n,!0);if(s)return this.setHtml(acf.applyFilters("blocks/form/render",s.html,!0)),void(s.validation&&this.setValidationErrors(s.validation.errors));_(o)||(a.validate=!1),T({attributes:i,context:r,clientId:n,query:a}).done(({data:e})=>{acf.debug("fetch block form promise"),e?(e.form&&this.setHtml(acf.applyFilters("blocks/form/render",e.form.replaceAll(e.clientId,n),!1)),e.validation&&this.setValidationErrors(e.validation.errors),this.isNotNewlyAdded()&&(acf.debug("Block has already shown it's invalid. The form needs to show validation errors"),this.validate())):this.setHtml(`<div class="acf-block-fields acf-fields acf-empty-block-fields">${acf.__("Error loading block form")}</div>`)})}validate(e=!0){e&&this.loadState(),acf.debug("BlockForm calling validate with state",Object.assign({},this)),super.displayValidation(this.state.$el)}shouldComponentUpdate(e,t){return _(this.props.name)&&this.state.$el&&this.isNotNewlyAdded()&&!this.hasShownValidation()&&this.validate(!1),super.shouldComponentUpdate(e,t)}componentWillUnmount(){super.componentWillUnmount(),acf.debug("BlockForm Component did unmount")}componentDidRemount(){super.componentDidRemount(),acf.debug("BlockForm component did remount");const{$el:e}=this.state;_(this.props.name)&&this.isNotNewlyAdded()&&(acf.debug("Block has already shown it's invalid. The form needs to show validation errors"),this.validate()),!0!==e.data("acf-events-added")&&this.componentDidAppend()}componentDidAppend(){super.componentDidAppend(),acf.debug("BlockForm component did append");const{attributes:e,setAttributes:t,clientId:r,name:n}=this.props,o=this,{$el:i}=this.state;function a(a=!1){const c=acf.serialize(i,`acf-block_${r}`);a?e.data=c:t({data:c}),_(n)&&!a&&"edit"===o.getMode()&&(acf.debug("No block preview currently available. Need to trigger a validation only fetch."),o.fetch(!0,c))}let c=!1;i.on("change keyup",()=>{clearTimeout(c),c=setTimeout(a,300)}),i.data("acf-events-added",!0),e.data||a(!0)}}class U extends z{setup(e){const t=x(e.name),r=acf.isget(this.props,"context","postId");this.id=`BlockPreview-${e.clientId}`,super.setup(e),r&&(this.id=`BlockPreview-${e.clientId}-${r}`),t.supports.jsx&&(this.renderMethod="jsx")}fetch(e={}){const{attributes:t=this.props.attributes,clientId:r=this.props.clientId,context:n=this.props.context,delay:o=0}=e,{name:i}=this.props;this.setState({prevAttributes:t,prevContext:n});const a=K(t,n);let c=this.maybePreload(a,r,!1);if(c)return 1==R(i)&&(c.html='<div class="acf-block-preview">'+c.html+"</div>"),this.setHtml(acf.applyFilters("blocks/preview/render",c.html,!0)),void(c.validation&&this.setValidationErrors(c.validation.errors));let s={preview:!0};_(i)||(s.validate=!1),T({attributes:t,context:n,clientId:r,query:s,delay:o}).done(({data:e})=>{if(!e)return void this.setHtml(`<div class="acf-block-fields acf-fields acf-empty-block-fields">${acf.__("Error previewing block")}</div>`);let t=e.preview.replaceAll(e.clientId,r);1==R(i)&&(t='<div class="acf-block-preview">'+t+"</div>"),acf.debug("fetch block render promise"),this.setHtml(acf.applyFilters("blocks/preview/render",t,!1)),e.validation&&this.setValidationErrors(e.validation.errors),this.isNotNewlyAdded()&&this.validate()})}validate(){const e=(acf.blockInstances[this.props.clientId]||{}).BlockForm||!1;e&&super.displayValidation(e.$el)}componentDidAppend(){super.componentDidAppend(),this.renderBlockPreviewEvent()}shouldComponentUpdate(e,t){const r=e.attributes,n=this.props.attributes;if(!F(r,n)||!F(e.context,this.props.context)){let t=0;r.className!==n.className&&(t=300),r.anchor!==n.anchor&&(t=300),acf.debug("Triggering fetch from block preview shouldComponentUpdate"),this.fetch({attributes:r,context:e.context,delay:t})}return super.shouldComponentUpdate(e,t)}renderBlockPreviewEvent(){const{attributes:t,name:r}=this.props,{$el:n,ref:o}=this.state;var i;const a=t.name.replace("acf/","");i=o&&o.current?e(o.current).parent():1==R(r)?n:n.parents(".acf-block-preview"),acf.doAction("render_block_preview",i,t),acf.doAction(`render_block_preview/type=${a}`,i,t)}componentDidRemount(){super.componentDidRemount(),acf.debug("Checking if fetch is required in BlockPreview componentDidRemount",Object.assign({},this.state.prevAttributes),Object.assign({},this.props.attributes),Object.assign({},this.state.prevContext),Object.assign({},this.props.context)),F(this.state.prevAttributes,this.props.attributes)&&F(this.state.prevContext,this.props.context)||(acf.debug("Triggering block preview fetch from componentDidRemount"),this.fetch()),this.renderBlockPreviewEvent()}}function J(e){return["top","center","bottom"].includes(e)?e:"top"}function W(e){const t=acf.get("rtl")?"right":"left";return["left","center","right"].includes(e)?e:t}function X(e){if(e){const[t,r]=e.split(" ");return`${J(t)} ${W(r)}`}return"center center"}function Y(e,t,r){return e[t]={type:r},e}function K(e,t){return e._acf_context=Q(t),o(JSON.stringify(Q(e)))}function Q(e){return Object.keys(e).sort().reduce((t,r)=>(t[r]=e[r],t),{})}acf.addAction("prepare",function(){wp.blockEditor||(wp.blockEditor=wp.editor);const e=acf.get("blockTypes");e&&e.filter(e=>parseInt(e.acf_block_version)<3).map(B)})})(jQuery)},3939:e=>{var t,r;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],i=0;i<4;i++)8*n+6*i<=8*e.length?r.push(t.charAt(o>>>6*(3-i)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(n))>>>6-2*o);return r}},e.exports=r},7206:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(3476),r(3692);const e=window.jQuery;var t=r.n(e);const{createElement:n,createRef:o,Component:i}=wp.element,a=wp.blockEditor.__experimentalUseInnerBlocksProps||wp.blockEditor.useInnerBlocksProps;function c(e){return acf.isget(acf,"jsxNameReplacements",e)||e}class s extends i{render(){return n("div",{ref:e=>this.el=e})}setHTML(e){t()(this.el).html(`<script>${e}<\/script>`)}componentDidUpdate(){this.setHTML(this.props.children)}componentDidMount(){this.setHTML(this.props.children)}}function l(e){const{className:t="acf-innerblocks-container"}=e,r=a({className:t},e);return n("div",{...r,children:r.children})}function d(e){let t=e.name,r=e.value;const n=acf.applyFilters("acf_blocks_parse_node_attr",!1,e);if(n)return n;switch(t){case"class":t="className";break;case"style":const e={};r.split(";").forEach(t=>{const r=t.indexOf(":");if(r>0){let n=t.substr(0,r).trim();const o=t.substr(r+1).trim();"-"!==n.charAt(0)&&(n=acf.strCamelCase(n)),e[n]=o}}),r=e;break;default:if(0===t.indexOf("data-"))break;t=c(t);const n=r.charAt(0);"["!==n&&"{"!==n||(r=JSON.parse(r)),"true"!==r&&"false"!==r||(r="true"===r)}return{name:t,value:r}}function u(e,t=0){const r=function(e){switch(e){case"innerblocks":return"ACFInnerBlocks";case"script":return s;case"#comment":return null;default:return c(e)}}(e.nodeName.toLowerCase());if(!r)return null;const i={};if(1===t&&"ACFInnerBlocks"!==r&&(i.ref=o()),acf.arrayArgs(e.attributes).map(d).forEach(({name:e,value:t})=>{i[e]=t}),"ACFInnerBlocks"===r)return n(l,{...i});const a=[r,i];return acf.arrayArgs(e.childNodes).forEach(e=>{if(e instanceof Text){const t=e.textContent;t&&a.push(t)}else a.push(u(e,t+1))}),n.apply(this,a)}acf.parseJSX=function(e){return e=(e="<div>"+e+"</div>").replace(/<InnerBlocks([^>]+)?\/>/,"<InnerBlocks$1></InnerBlocks>"),u(t()(e)[0],0).props.children};var p=r(3503),f=r.n(p);const h=window.wp.element,m=window.wp.blockEditor,g=window.wp.components,{Placeholder:b,Button:k,Icon:v}=wp.components,y=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false"},React.createElement("path",{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})),w=({setBlockFormModalOpen:e,blockLabel:t,instructions:r})=>React.createElement(b,{icon:React.createElement(v,{icon:y}),label:t,instructions:r},React.createElement(k,{variant:"primary",onClick:()=>{e(!0)}},acf.__("Edit Block"))),E=e=>{const t=wp.data.dispatch("core/editor");t&&t.lockPostSaving("acf/block/"+e)},x=e=>{const t=wp.data.dispatch("core/editor");t&&t.unlockPostSaving("acf/block/"+e)},R=e=>{const t=wp.data.dispatch("core/editor");t&&t.unlockPostSaving("acf/block/"+e)},_=e=>Object.keys(e).sort().reduce((t,r)=>(t[r]=e[r],t),{}),A=({$:e,clientId:t,blockFormHtml:r,onMount:n,onChange:o,validationErrors:i,showValidationErrors:a,acfFormRef:c,userHasInteractedWithForm:s,attributes:l,hideFieldsInSidebar:d})=>{const[u,p]=(0,h.useState)(r),[f,m]=(0,h.useState)(!1),g=(0,h.useRef)(null),[b,k]=(0,h.useState)(!1),[v,y]=(0,h.useState)(!1);return(0,h.useEffect)(()=>{n()},[]),(0,h.useEffect)(()=>{f&&(!v||s||b)&&(o(f),m(!1),v||y(!0))},[f,s,b,v,m,o]),(0,h.useEffect)(()=>{!u&&r&&p(r)},[r]),(0,h.useEffect)(()=>{if(!c?.current)return;const r=acf.getBlockFormValidator(e(c.current).find(".acf-block-fields"));if(r.clearErrors(),r.set("notice",null),acf.doAction("blocks/validation/pre_apply",i),i)a&&(E(t),r.$el.find(".acf-notice").remove(),r.addErrors(i),r.showErrors("after"));else{if(r.$el.find(".acf-notice").length>0&&a){r.$el.find(".acf-notice").remove(),r.addErrors([{message:acf.__("Validation successful")}]),r.showErrors("after"),r.get("notice").update({type:"success",text:acf.__("Validation successful"),timeout:1e3}),r.set("notice",null),setTimeout(()=>{r.$el.find(".acf-notice").remove()},1001);const n=wp.data.dispatch("core/notices");function o(e){return new Promise(function(r){return e.forEach(e=>{if(e.innerBlocks.length>0&&o(e.innerBlocks).then(e=>{if(e)return r(!0)}),e.attributes.hasAcfError&&e.clientId!==t)return r(!0)}),r(!1)})}o(wp.data.select("core/block-editor").getBlocks()).then(e=>{e?n.createErrorNotice(acf.__("An ACF Block on this page requires attention before you can save."),{id:"acf-blocks-validation",isDismissible:!0}):n.removeNotice("acf-blocks-validation")})}x(t)}acf.doAction("blocks/validation/post_apply",i)},[i,t,a]),(0,h.useEffect)(()=>{if(!c?.current||!u)return;acf.debug("Remounting ACF Form");const t=c.current,r=e(t);let n=!0;acf.doAction("remount",r),v||(o(r),y(!0));const i=()=>{o(r)},a=()=>{if(!n)return;const e=t.querySelectorAll("input, textarea"),o=t.querySelectorAll("select");e.forEach(e=>{e.removeEventListener("input",i),e.addEventListener("input",i)}),o.forEach(e=>{e.removeEventListener("change",i),e.addEventListener("change",i)}),clearTimeout(g.current),g.current=setTimeout(()=>{n&&m(r)},300)},s=new MutationObserver(a),l=new MutationObserver(()=>{n&&(k(!0),a())}),d={attributes:!0,childList:!0,subtree:!0,characterData:!0};return s.observe(t,d),[...t.querySelectorAll("iframe")].forEach(e=>{if(e&&e.contentDocument){const t=e.contentDocument.body;t&&l.observe(t,d)}}),t.querySelectorAll("input, textarea").forEach(e=>{e.addEventListener("input",i)}),t.querySelectorAll("select").forEach(e=>{e.addEventListener("change",i)}),()=>{n=!1,s.disconnect(),l.disconnect(),clearTimeout(g.current),t&&(t.querySelectorAll("input, textarea").forEach(e=>{e.removeEventListener("input",i)}),t.querySelectorAll("select").forEach(e=>{e.removeEventListener("change",i)}))}},[c,l,u]),React.createElement("div",{ref:c,className:"acf-block-component acf-block-panel",style:{display:d?"none":null},dangerouslySetInnerHTML:{__html:acf.applyFilters("blocks/form/render",u,!0)}})};function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(null,arguments)}const B=({children:e,blockPreviewHtml:t,blockProps:r})=>React.createElement("div",C({},r,{key:t}),e),S=(0,h.createContext)(null),I={didCatch:!1,error:null};class T extends h.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=I}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){const e=Array.from(arguments);this.props.onReset&&this.props.onReset({args:e,reason:"imperative-api"}),this.setState(I)}}componentDidCatch(e,t){this.props.onError&&this.props.onError(e,t)}componentDidUpdate(e,t){const{didCatch:r}=this.state,{resetKeys:n}=this.props;r&&null!==t.error&&function(e=[],t=[]){return e.length!==t.length||e.some((e,r)=>!Object.is(e,t[r]))}(e.resetKeys,n)&&(this.props.onReset&&this.props.onReset({next:n,prev:e.resetKeys,reason:"keys"}),this.setState(I))}render(){const{children:e,fallbackRender:t,FallbackComponent:r,fallback:n}=this.props,{didCatch:o,error:i}=this.state;let a=e;if(o){const e={error:i,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)a=t(e);else if(r)a=React.createElement(r,e);else{if(void 0===n)throw i;a=n}}return React.createElement(S.Provider,{value:{didCatch:o,error:i,resetErrorBoundary:this.resetErrorBoundary}},a)}}const F=({setBlockFormModalOpen:e,blockLabel:t,error:r})=>{let n=null;return r&&(acf.debug("Block preview error:",r),n=acf.__("Error previewing block v3")),React.createElement(Placeholder,{icon:React.createElement(Icon,{icon:blockIcon}),label:t,instructions:n},React.createElement(Button,{variant:"primary",onClick:()=>{e(!0)}},acf.__("Edit Block")))};function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(null,arguments)}const P=({inspectorBlockFormRef:e,setCurrentBlockFormContainer:t})=>((0,h.useEffect)(()=>{t(e.current)},[]),React.createElement("div",{ref:e})),j=e=>{const{attributes:t,setAttributes:r,context:n,isSelected:o,$:i,blockType:a}=e,c=a.validate,{clientId:s}=(0,m.useBlockEditContext)(),l=(0,h.useMemo)(()=>$(D(t,n),s,o),[]),[d,u]=(0,h.useState)(()=>l?.validation?.errors??null),[p,g]=(0,h.useState)(null),[b,k]=(0,h.useState)(null),[v,y]=(0,h.useState)(""),[w,A]=(0,h.useState)(()=>l?.html?acf.applyFilters("blocks/preview/render",l.html,!0):"acf-block-preview-loading"),[C,B]=(0,h.useState)(!1),[S,I]=(0,h.useState)(!1),[T,F]=(0,h.useState)(),P=(0,h.useRef)(null),j=(0,h.useRef)(null),M=(0,h.useRef)(null),N=(0,h.useMemo)(()=>{const{hasAcfError:e,...r}=t;return r},[t]);function L({theAttributes:e,theClientId:t,theContext:r,isSelected:o}){if(!e)return;T&&T.abort();const a=$(D(e,n),t,o);if(a)return void function(e){e.form?y(e.html):e.html?A(acf.applyFilters("blocks/preview/render",e.html,!0)):A(acf.applyFilters("blocks/preview/render","acf-block-preview-no-html",!0));e?.validation&&!e.validation.valid&&e.validation.errors?u(e.validation.errors):u(null)}(a);const s={preview:!0,form:!0,validate:!0};v||(s.validate=!1),c||(s.validate=!1);const l={...e};(e=>{const t=wp.data.dispatch("core/editor");t&&t.lockPostSaving("acf/block/"+e)})("acf-fetching-block");const d=i.ajax({url:acf.get("ajaxurl"),dataType:"json",type:"post",cache:!1,data:acf.prepareForAjax({action:"acf/ajax/fetch-block",block:JSON.stringify(l),clientId:t,context:JSON.stringify(r),query:s})}).done(e=>{R("acf-fetching-block"),y(e.data.form),e.data.preview?A(acf.applyFilters("blocks/preview/render",e.data.preview,!1)):A(acf.applyFilters("blocks/preview/render","acf-block-preview-no-html",!1)),e.data?.validation&&!e.data.validation.valid&&e.data.validation.errors?u(e.data.validation.errors):u(null),I(!0)}).fail(function(){I(!0),R("acf-fetching-block")});F(d)}function D(e,t){return delete e.hasAcfError,e._acf_context=_(t),f()(JSON.stringify(_(e)))}function $(e,t,r){if(r)return!1;if(acf.debug("Preload check",e,t),function(e){const t=wp.data.select("core/block-editor").getBlockParents(e);return wp.data.select("core/block-editor").getBlocksByClientId(t).filter(e=>"core/query"===e.name).length>0}(t))return!1;const n=acf.get("preloadedBlocks");if(!n||!n[e])return acf.debug("Preload failed: not preloaded."),!1;const o=n[e];return o.html=o.html.replaceAll(e,t),o?.validation&&o?.validation.errors&&(o.validation.errors=o.validation.errors.map(r=>(r.input=r.input.replaceAll(e,t),r))),acf.debug("Preload successful",o),o}return(0,h.useEffect)(()=>{function e(){B(!0),window.removeEventListener("click",e),window.removeEventListener("keydown",e)}return L({theAttributes:t,theClientId:s,theContext:n,isSelected:o}),window.addEventListener("click",e),window.addEventListener("keydown",e),()=>{window.removeEventListener("click",e),window.removeEventListener("keydown",e)}},[]),(0,h.useEffect)(()=>{r(d?{hasAcfError:!0}:{hasAcfError:!1})},[d,r]),(0,h.useEffect)(()=>{const e=()=>{E(s),g(!0)};return document.addEventListener("acf/block/has-error",e),()=>{document.removeEventListener("acf/block/has-error",e),x(s)}},[]),(0,h.useEffect)(()=>()=>{x(e.clientId)},[]),(0,h.useEffect)(()=>{clearTimeout(M.current),M.current=setTimeout(()=>{const e=JSON.parse(b);if(!e)return void L({theAttributes:N,theClientId:s,theContext:n,isSelected:o});if(b===JSON.stringify(N.data))return void L({theAttributes:N,theClientId:s,theContext:n,isSelected:o});const i={...t,data:{...e}};r(i)},200)},[b,N]),(0,h.useEffect)(()=>{if(j.current&&w){const e=t.name.replace("acf/",""),r=i(j.current);acf.doAction("render_block_preview",r,t),acf.doAction(`render_block_preview/type=${e}`,r,t)}},[w]),React.createElement(H,O({},e,{validationErrors:d,showValidationErrors:p,theSerializedAcfData:b,setTheSerializedAcfData:k,acfFormRef:P,blockFormHtml:v,blockPreviewHtml:w,blockFetcher:L,userHasInteractedWithForm:C,setUserHasInteractedWithForm:B,previewRef:j,hasFetchedOnce:S}))};function H(e){const{blockType:t,$:r,isSelected:n,attributes:o,context:i,validationErrors:a,showValidationErrors:c,theSerializedAcfData:s,setTheSerializedAcfData:l,acfFormRef:d,blockFormHtml:u,blockPreviewHtml:p,blockFetcher:f,userHasInteractedWithForm:b,previewRef:k,hasFetchedOnce:v}=e,{clientId:y}=(0,m.useBlockEditContext)(),E=(0,h.useRef)(),[x,R]=(0,h.useState)(!1),_=(0,h.useRef)(),[C,S]=(0,h.useState)();(0,h.useEffect)(()=>{x&&_?.current&&S(_.current)},[x,_]),(0,h.useEffect)(()=>{n&&E?.current?S(E.current):n&&!E?.current?setTimeout(()=>{S(E.current)},1):n||S(null)},[n,E,E.current]),(0,h.useEffect)(()=>{n&&a&&c&&t?.hide_fields_in_sidebar&&R(!0)},[n,c,a,t]);let I="acf-block-component acf-block-body";I+=" acf-block-preview",a&&c&&(I+=" acf-block-has-validation-error");const O={...(0,m.useBlockProps)({className:I,ref:k})};let j=null;return C?j=C:E?.current&&(j=E.current),React.createElement(React.Fragment,null,React.createElement(m.BlockControls,null,React.createElement(g.ToolbarGroup,null,React.createElement(g.ToolbarButton,{className:"components-icon-button components-toolbar__control",label:acf.__("Edit Block"),icon:"edit",onClick:()=>{R(!0)}}))),React.createElement(m.InspectorControls,null,React.createElement("div",{style:{padding:"16px"}},React.createElement(g.Button,{className:"acf-blocks-open-expanded-editor-btn",variant:"secondary",onClick:()=>{R(!0)},text:acf.__("Open Expanded Editor"),icon:"edit"})),React.createElement(P,{inspectorBlockFormRef:E,setCurrentBlockFormContainer:S})),j&&(0,h.createPortal)(React.createElement(React.Fragment,null,React.createElement(A,{$:r,clientId:y,blockFormHtml:u,onMount:()=>{v||f({theAttributes:o,theClientId:y,theContext:i,isSelected:n})},onChange:function(e){const t=acf.serialize(e,`acf-block_${y}`);if(t){const e=acf.normalizeFlexibleContentData(t);l(JSON.stringify(e))}},validationErrors:a,showValidationErrors:c,acfFormRef:d,theSerializedAcfData:s,userHasInteractedWithForm:b,setCurrentBlockFormContainer:S,attributes:o,hideFieldsInSidebar:t?.hide_fields_in_sidebar&&(!C||E.current===C)})),C||E.current),React.createElement(React.Fragment,null,x&&React.createElement(g.Modal,{className:"acf-block-form-modal",isFullScreen:!0,title:t.title,onRequestClose:()=>{S(null),R(!1)}},React.createElement("div",{className:"acf-modal-block-form-container",ref:_}))),React.createElement(React.Fragment,null,React.createElement(B,{blockPreviewHtml:p,blockProps:O},React.createElement(T,{fallbackRender:({error:e})=>React.createElement(F,{blockLabel:t?.title||acf.__("ACF Block"),setBlockFormModalOpen:R,error:e}),onError:(e,t)=>{acf.debug("Block preview error caught:",e,t)},resetKeys:[p],onReset:({reason:e,next:t,prev:r})=>{acf.debug("Error boundary reset:",e),"keys"===e&&acf.debug("Preview HTML changed from",r,"to",t)}},"acf-block-preview-no-html"===p?React.createElement(w,{setBlockFormModalOpen:R,blockLabel:t.title}):null,"acf-block-preview-loading"===p&&React.createElement(g.Placeholder,null,React.createElement(g.Spinner,null)),"acf-block-preview-loading"!==p&&"acf-block-preview-no-html"!==p&&p&&acf.parseJSX(p)))))}const{Fragment:M,Component:N}=wp.element,{BlockControls:L,AlignmentToolbar:D}=wp.blockEditor,$=e=>{const t=acf.get("rtl")?"right":"left";return["left","center","right"].includes(e)?e:t},V=(e,t)=>{const r=$;return t.alignText=r(t.alignText),class extends N{render(){const{attributes:t,setAttributes:n}=this.props,{alignText:o}=t;return React.createElement(M,null,React.createElement(L,{group:"block"},React.createElement(D,{value:r(o),onChange:function(e){n({alignText:r(e)})}})),React.createElement(e,this.props))}}},{Fragment:z,Component:q}=wp.element,{BlockControls:U,BlockVerticalAlignmentToolbar:J}=wp.blockEditor,W=wp.blockEditor.__experimentalBlockAlignmentMatrixControl||wp.blockEditor.BlockAlignmentMatrixControl,X=wp.blockEditor.__experimentalBlockAlignmentMatrixToolbar||wp.blockEditor.BlockAlignmentMatrixToolbar,Y=e=>["top","center","bottom"].includes(e)?e:"top",K=e=>{if(e){const[t,r]=e.split(" ");return`${Y(t)} ${(e=>{const t=acf.get("rtl")?"right":"left";return["left","center","right"].includes(e)?e:t})(r)}`}return"center center"},Q=(e,t)=>{let r,n;return"matrix"===t.supports.align_content||"matrix"===t.supports.alignContent?(r=W||X,n=K):(r=J,n=Y),void 0===r?e:(t.alignContent=n(t.alignContent),class extends q{render(){const{attributes:t,setAttributes:o}=this.props,{alignContent:i}=t;return React.createElement(z,null,React.createElement(U,{group:"block"},React.createElement(r,{label:acf.__("Change content alignment"),value:n(i),onChange:function(e){o({alignContent:n(e)})}})),React.createElement(e,this.props))}})},{Fragment:G,Component:Z}=wp.element,{BlockControls:ee}=wp.blockEditor,te=wp.blockEditor.__experimentalBlockFullHeightAligmentControl||wp.blockEditor.__experimentalBlockFullHeightAlignmentControl||wp.blockEditor.BlockFullHeightAlignmentControl,re=e=>te?class extends Z{render(){const{attributes:t,setAttributes:r}=this.props,{fullHeight:n}=t;return React.createElement(G,null,React.createElement(ee,{group:"block"},React.createElement(te,{isActive:n,onToggle:function(e){r({fullHeight:e})}})),React.createElement(e,this.props))}}:e;function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ne.apply(null,arguments)}const{InnerBlocks:oe}=wp.blockEditor,{Component:ie}=wp.element,{createHigherOrderComponent:ae}=wp.compose,ce={},se=(e,t,r)=>(e[t]={type:r},e);function le(e){if(!function(e){const t=e.post_types||[];if(t.length){t.push("wp_block");const e=acf.get("postType");if(!t.includes(e))return!1}return!0}(e))return!1;!function(e){if("string"==typeof e.icon&&"<svg"===e.icon.substr(0,4)){const t=e.icon;e.icon=React.createElement("div",{dangerouslySetInnerHTML:{__html:t}})}e.icon||delete e.icon}(e),function(e){wp.blocks.getCategories().filter(({slug:t})=>t===e.category).pop()||(e.category="common")}(e),function(e){for(const t in e.attributes)"default"in e.attributes[t]&&0===e.attributes[t].default.length&&delete e.attributes[t].default}(e=function(e){return acf.parseArgs(e,{title:"",name:"",category:"",api_version:2,acf_block_version:3,attributes:{},supports:{}})}(e)),function(e){e.supports&&e.supports.anchor&&(e.attributes.anchor={type:"string"})}(e);let r=j;r=function(e,t){let r=e;return(t.supports.alignText||t.supports.align_text)&&(t.attributes=se(t.attributes,"align_text","string"),r=V(r,t)),(t.supports.alignContent||t.supports.align_content)&&(t.attributes=se(t.attributes,"align_content","string"),r=Q(r,t)),(t.supports.fullHeight||t.supports.full_height)&&(t.attributes=se(t.attributes,"full_height","boolean"),r=re(r)),r}(r,e),e.edit=function(n){return React.createElement(r,ne({},n,{blockType:e,$:t()}))},e.save=()=>React.createElement(oe.Content,null),ce[e.name]=e;const n=wp.blocks.registerBlockType(e.name,e);return n&&n.attributes&&n.attributes.anchor&&(n.attributes.anchor={type:"string"}),n}const de=ae(e=>class extends ie{constructor(e){super(e);const{name:t,attributes:r}=this.props,n=ce[t]||!1;if(!n)return;Object.keys(r).forEach(e=>{""===r[e]&&delete r[e]});const o={full_height:"fullHeight",align_content:"alignContent",align_text:"alignText"};Object.keys(o).forEach(e=>{const t=o[e];void 0!==r[e]?r[t]=r[e]:void 0===r[t]&&void 0!==n[e]&&(r[t]=n[e]),delete n[e],delete r[e]});for(let e in n.attributes)void 0===r[e]&&void 0!==n[e]&&(r[e]=n[e])}render(){return React.createElement(e,this.props)}},"withDefaultAttributes");acf.addAction("prepare",function(){wp.blockEditor||(wp.blockEditor=wp.editor);const e=acf.get("blockTypes");e&&e.forEach(e=>{parseInt(e.acf_block_version)>=3&&le(e)})}),wp.hooks.addFilter("editor.BlockListBlock","acf/with-default-attributes",de)})()})();